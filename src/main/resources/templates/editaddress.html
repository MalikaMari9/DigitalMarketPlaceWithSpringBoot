<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Address Form</title>

    <!-- ✅ Fixed CSS Path -->
    <link rel="stylesheet" th:href="@{/CSS/STRMstyle.css}">

    <style>
        body { background-color: #f2f2f2; }
    </style>
    
     
   
</head>
<body>
   
                 
                <h2>Add Address</h2>

                <!-- ✅ Fixed `th:action` and `th:object` -->
                <form th:action="@{/save-address/{userID}(userID=${session.user != null ? session.user.userID : ''})}" 
                      th:object="${address}" method="POST">
                    
                    <!-- ✅ Hidden Field to Store User ID -->
                    <input type="hidden" name="userID" th:value="${session.user != null ? session.user.userID : ''}">

                    <label for="name">Name</label>
                    <input type="text" id="name" th:field="*{custName}" required>

                    <label for="postalCode">Postal-Code</label>
                    <input type="text" id="postalCode" th:field="*{postalCode}" required>

                    <label for="phoneNumber">Phone Number</label>
                    <input type="text" id="phoneNumber" th:field="*{phone}" maxlength="12" required>

                    <label for="township">Township</label>
                    <select id="township" th:field="*{township}" required>
                        <option value="Yangon">Yangon</option>
                        <option value="Mandalay">Mandalay</option>
                    </select>

                    <label for="building">Building / House No / Floor / Street</label>
                    <input type="text" id="building" th:field="*{building}" required>

                    <label for="city">City</label>
                    <select id="city" th:field="*{city}" required>
                        <option value="Yangon">Yangon</option>
                        <option value="Mandalay">Mandalay</option>
                    </select>

                    <label for="addressDetail">Address Detail</label>
                    <textarea id="addressDetail" th:field="*{addres}" required></textarea> <!-- ✅ FIXED -->

                    <label for="deliveryNote">Delivery Note</label>
                    <textarea id="deliveryNote" th:field="*{delinote}"></textarea> <!-- ✅ FIXED -->

                    <button type="submit">Save</button>
                </form>

                <!-- ✅ Back Button -->
                <button onclick="goBack()" class="back-button">Go Back</button>
         
    

    <!-- ✅ Fixed JS Path -->
    <script th:src="@{/JS/script.js}"></script>
    <script>
        function goBack() {
            window.history.back();
        }
    </script>
</body>
</html>
